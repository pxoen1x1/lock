<div class="container request-list-content"
     ng-if="$mdMedia('gt-xs')">
  <div class="container-title">
    <i class="material-icons">list</i>
    <span>Current</span>
    <span>⋅</span>
    <span ng-bind="vm.paginationOptions.totalCount"></span>
  </div>
  <div class="container-content">
    <md-table-container>
      <table md-table>
        <thead md-head
               md-order="vm.queryOptions.orderBy"
               md-on-reorder="vm.getRequests">
        <tr md-row>
          <th md-column
              md-order-by="updatedAt">
            <span>Date</span>
          </th>
          <th md-column
              md-order-by="serviceType"
              ng-show="$mdMedia('gt-xs')">
            <span>Type of service</span>
          </th>
          <th md-column>Location</th>
          <th md-column
              md-order-by="status">
            <span>Status</span>
          </th>
          <th md-column>Cost</th>
        </tr>
        </thead>
        <tbody md-body>
        <tr md-row
            ui-sref="provider.dashboard.request.view({ requestId: request.id })"
            ng-repeat="request in vm.requests track by request.id">
          <td md-cell>
            <span ng-bind="request.updatedAt | date : 'MM/dd/yyyy H:mm a'"></span>
          </td>
          <td md-cell
              ng-show="$mdMedia('gt-xs')">
            <span ng-bind="request.serviceType.name"></span>
          </td>

          <td class="td-location"
              md-cell
              ng-show="$mdMedia('gt-xs')">
            <span ng-bind="request.location.address"></span>
          </td>
          <td md-cell
              ng-hide="$mdMedia('gt-xs')">
            <md-button class="md-icon-button" aria-label="Location">
              <md-icon class="material-icons">
                <i class="material-icons">place</i>
              </md-icon>
            </md-button>
          </td>
          <td class="request-status"
              md-cell
              ng-class="{
                'new': request.status === vm.requestStatus.NEW,
                'pending': request.status === vm.requestStatus.PENDING,
                'in-progress': request.status === vm.requestStatus.IN_PROGRESS || request.status === vm.requestStatus.DONE,
                'closed': request.status === vm.requestStatus.CLOSED
              }">
            <span ng-bind="vm.requestStatus[request.status]"></span>
          </td>
          <td class="td-cost" md-cell>
            <span ng-bind="request.cost ? '$'+ request.cost : '–'"></span>
          </td>
        </tr>
        </tbody>
      </table>
    </md-table-container>

    <md-table-pagination md-limit="vm.queryOptions.limit"
                         md-limit-options="vm.paginationOptions.limitOptions"
                         md-page="vm.queryOptions.page"
                         md-total="{{ vm.paginationOptions.totalCount }}"
                         md-on-paginate="vm.getRequests"
                         md-page-select>
    </md-table-pagination>
  </div>
</div>
<div class="request-list-content"
     ng-if="!$mdMedia('gt-xs')">
  <a class="list card"
     ui-sref="provider.dashboard.request.view({ requestId: request.id })"
     ng-repeat="request in vm.requests track by request.id">
    <div class="item item-header" layout="row">
      <div layout="row"
           layout-align="start center"
           flex="50">
        <div class="avatar-wrapper">
          <div class="avatar"
               ng-style="{ 'background-image': 'url(' + (request.owner.portrait ?
               vm.baseUrl + request.owner.portrait : vm.defaultPortrait) + ')' }">
          </div>
        </div>
        <div class="contact-name" flex>
          <span ng-bind="request.owner.fullName"></span>
        </div>
      </div>
      <div class="secondary-text"
           flex="50"
           layout="row"
           layout-align="end center">
        <span ng-bind="request.createdAt | altDate"></span>
      </div>
    </div>
    <div class="item item-body" layout="row">
      <div layout="column"
           flex="50">
        <div>
          <span class="md-body-2">Type of service:</span>
          <span class="md-body-1" ng-bind="request.serviceType.name"></span>
        </div>
        <div ng-if="request.language.name">
          <span class="md-body-2">Language:</span>
          <span class="md-body-1"
                ng-bind="request.language.name">
          </span>
        </div>
        <div ng-if="request.location">
          <span class="md-body-2">Address:</span>
          <span class="md-body-1" ng-bind="request.location.address"></span>
        </div>
      </div>
      <div layout="column"
           flex="50">
        <div>
          <span class="md-body-2">For Date:</span>
          <span class="md-body-1"
                ng-bind="request.forDate ? (request.forDate | date: vm.dateFormat) : 'Now'">
          </span>
        </div>
      </div>
    </div>
  </a>
</div>