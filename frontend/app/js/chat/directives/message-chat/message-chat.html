<div class="md-padding message-row"
     layout="row"
     layout-align="start end"
     ng-class="{ 'user': vm.message.sender.id === vm.currentUser.id }">
  <div class="avatar"
       ng-style="{ 'background-image': 'url(' + (vm.message.sender.portrait ?
       vm.baseUrl + vm.message.sender.portrait : vm.defaultPortrait) + ')' }"
       ng-click="vm.showChatMemberInfo(vm.message.sender)">
  </div>
  <div class="bubble">
    <div class="translation"
         ng-class="{ active: vm.isMessageTranslated }"
         ng-click="vm.translateMessage(vm.message)">
      <i class="material-icons">language</i>
    </div>
    <div class="message"
         ng-if="!vm.isImage">
      <span ng-bind="vm.message.message"></span>
    </div>
    <a class="message-image"
       ng-href="{{ vm.baseUrl + vm.message.message }}"
       target="_blank"
       ng-if="vm.isImage">
      <div ng-style="{ 'background-image': 'url(' + vm.baseUrl + vm.message.message + ')' }"></div>
    </a>
    <div class="time secondary-text">
      <span ng-bind="vm.message.updatedAt | altDate"></span>
    </div>
  </div>
</div>